<!DOCTYPE html>
<html>
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>

<body>
<div id="container" style="width:70%; margin: auto;">
<h2>Unused AWS Resources - {{ region|upper }}</h2>

<!-- Elastic IPs -->
{% if elastic_ips %}
<div class="panel-group">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a id="elasticIPToggle" data-toggle="collapse" href="#elasticIPTable">Elastic IPs
          <span class="glyphicon glyphicon-chevron-down pull-right"></span>
        </a>
      </h4>
    </div>
    <div id="elasticIPTable" class="panel-collapse collapse">
      <div class="panel-body">
        <table class="table table-striped table-condensed">
          <thead>
            <tr>
              <th>IP Address</th>
            </tr>
          </thead>
          <tbody>
            {% for eip in elastic_ips %}
              <tr>
                <td>{{ eip }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% endif %}

<!-- EBS Volumes -->
{% if volumes %}
<div class="panel-group">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a id="volumesToggle" data-toggle="collapse" href="#volumesTable">EBS Volumes
          <span class="glyphicon glyphicon-chevron-down pull-right"></span>
        </a>
      </h4>
    </div>
    <div id="volumesTable" class="collapse">
      <table class="table table-striped table-condensed">
        <thead>
          <tr>
            <th>ID</th>
            <th>Type</th>
            <th>Size</th>
          </tr>
        </thead>
        <tbody>
          {% for volume in volumes %}
            <tr>
              <td>{{ volume['VolumeId'] }}</td>
              <td>{{ volume['VolumeType'] }}</td>
              <td>{{ volume['VolumeSize'] }} GB</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endif %}

<!-- Snapshots -->
{% if snapshots %}
<div class="panel-group">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a id="snapshotsToggle" data-toggle="collapse" href="#snapshotsTable">Snapshots
          <span class="glyphicon glyphicon-chevron-down pull-right"></span>
        </a>
      </h4>
    </div>
    <div id="snapshotsTable" class="collapse">
      <table class="table table-striped table-condensed">
        <thead>
          <tr>
            <th>ID</th>
          </tr>
        </thead>
        <tbody>
          {% for snapshot in snapshots %}
            <tr>
              <td>{{ snapshot }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endif %}

<!-- Security Groups -->
{% if unused_sec_groups %}
<div class="panel-group">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a id="secGroupsToggle" data-toggle="collapse" href="#secGroupsTable">Security Groups
          <span class="glyphicon glyphicon-chevron-down pull-right"></span>
        </a>
      </h4>
    </div>
    <div id="secGroupsTable" class="collapse">
      <table class="table table-striped table-condensed">
        <thead>
          <tr>
            <th>Name</th>
          </tr>
        </thead>
        <tbody>
          {% for sg in unused_sec_groups %}
            <tr>
              <td>{{ sg }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endif %}

<!-- Elastic Load Balancers -->
{% if elbs %}
<div class="panel-group">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a id="elbToggle" data-toggle="collapse" href="#elbTable">ELBs
          <span class="glyphicon glyphicon-chevron-down pull-right"></span>
        </a>
      </h4>
    </div>
    <div id="elbTable" class="collapse">
      <table class="table table-striped table-condensed">
        <thead>
          <tr>
            <th>Name</th>
          </tr>
        </thead>
        <tbody>
          {% for elb in elbs %}
            <tr>
              <td>{{ elb }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endif %}

<!-- Launch Configurations -->
{% if launch_configs %}
<div class="panel-group">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a id="launchConfigsToggle" data-toggle="collapse" href="#launchConfigsTable">Launch Configurations
          <span class="glyphicon glyphicon-chevron-down pull-right"></span>
        </a>
      </h4>
    </div>
    <div id="launchConfigsTable" class="collapse">
      <table class="table table-striped table-condensed">
        <thead>
          <tr>
            <th>Name</th>
          </tr>
        </thead>
        <tbody>
          {% for lc in launch_configs %}
            <tr>
              <td>{{ lc }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endif %}

<!-- Autoscaling Groups -->
{% if auto_scaling_groups %}
<div class="panel-group">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a id="autoscalingGroupsToggle" data-toggle="collapse" href="#autoscalingGroupsTable">Autoscaling Groups
          <span class="glyphicon glyphicon-chevron-down pull-right"></span>
        </a>
      </h4>
    </div>
    <div id="autoscalingGroupsTable" class="collapse">
      <table class="table table-striped table-condensed">
        <thead>
          <tr>
            <th>Auto Scaling Group</th>
          </tr>
        </thead>
        <tbody>
          {% for acg in auto_scaling_groups %}
            <tr>
              <td>{{ asg }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endif %}

</div>

<!-- JavaScript/jQuery -->
<script>
$('#elasticIPToggle,#volumesToggle, #snapshotsToggle, #secGroupsToggle, #elbToggle, #launchConfigsToggle, #autoscalingGroupsToggle').click(function(){
    $(this).find('span').toggleClass('glyphicon-chevron-down').toggleClass('glyphicon-chevron-up');
});
</script>

</body>

</html>
